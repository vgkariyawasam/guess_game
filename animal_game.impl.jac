impl AnimalGame.start {
    if not [root --> (`?GameSession)] {
        available_animals = ["ðŸ¦ Lion", "ðŸ˜ Elephant", "ðŸ¬ Dolphin", "ðŸ¦… Eagle", "ðŸ… Tiger"];
        correct_animal = available_animals[random.randint(0, len(available_animals) - 1)];
        next = root ++> GameSession(correct_animal, 3);
        print(f"Starting new Animal Guessing Adventure! ðŸŽ®");
        print(f"ðŸŽ¯ Your target animal is: {next[0].correct_animal}");
        print(f"ðŸ’ª You have 3 attempts to win! Good luck! ðŸ€");
        print("ðŸ€ Take a lucky guess! What animal am I thinking of? ðŸ¤”");
        print("=" * 50);
    } else {
        next = [root --> (`?GameSession)];
        print(f"ðŸ”„ Continuing your epic quest! Target: {next[0].correct_animal}");
    }
    visit next;
}

impl AnimalGame.process_guess {
    print(f"ðŸŽ¯ Processing guess: '{self.guess}' ðŸ¤”");
    if [-->] {
        visit [-->];
    } else {
        if self.guess != here.correct_animal {
            here.attempts_left -= 1;
            if here.attempts_left > 0 {
                print(f"âŒ Oops! '{self.guess}' is not correct!");
                print(f"ðŸ’ª Attempts left: {here.attempts_left}");
                
                # Generate AI hint 
                hint = give_animal_hint(self.guess, here.correct_animal, 4 - here.attempts_left);
                print(f"ðŸ’¡ AI Hint: {hint}");
                print("ðŸ”„ Keep trying! You've got this! ðŸŒŸ");
                print("-" * 40);
                
                here ++> GameSession(here.correct_animal, here.attempts_left);
            } else {
                print(f"ðŸ’€ Game Over! No more attempts left! ðŸ’€");
                print(f"ðŸŽ¯ The correct animal was: {here.correct_animal}");
                print(f"ðŸŽ® Better luck next time, adventurer! ðŸ€");
                print("=" * 50);
                disengage;
            }
        } else {
            print(f"CONGRATULATIONS! ðŸŽ‰");
            print(f"You guessed '{self.guess}' correctly! ðŸ†");
            print(f"You are an Animal Guessing Champion! ðŸŒŸ");
            print("=" * 50);
            disengage;
        }
        visit [-->];
    }
}
